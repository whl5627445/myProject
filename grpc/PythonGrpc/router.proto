syntax = "proto3";
option go_package = "./grpcPb" ;
service Greeter {
  rpc FmuSimulation(FmuSimulationRequest) returns (FmuSimulationReply) {}
  rpc GetProcessStatus(GetProcessStatusRequest) returns (GetProcessStatusReply) {}
  rpc GerAllProcessNumber(GerAllProcessNumberRequest) returns (GerAllProcessNumberReply) {}
  rpc GetResult(GetResultRequest) returns (GetResultReply) {}
  rpc ProcessOperation(ProcessOperationRequest) returns (ProcessOperationReply) {}
}

message FmuSimulationRequest {
  string uuid = 1;
  float startTime = 2;
  float stopTime = 3;
  string fmuPath = 4;
  string resPath = 5;
  map<string, string> params = 6;
  int32 outputInterval = 7;
  float tolerance=8;
}
message FmuSimulationReply {
  string log = 1;
}

message GetProcessStatusRequest{
  string uuid = 1;
}
message GetProcessStatusReply{
  string log = 1;
  int32  exception = 2;
  int32 progress = 3;
  string processStartTime = 4;
  string state = 5;
  string processRunTime = 6;
  string resPath = 7;
}

message GerAllProcessNumberRequest{}
message GerAllProcessNumberReply{
  int32 totalTasks =1;
  int32 numOfRunningProcess =2;
  int32 numOfPendingProcess =3;
}

message GetResultRequest{
    string uuid = 1;
    string variable =2;
}
message GetResultReply{
    string log = 1;
    repeated float data=2;

}

message ProcessOperationRequest{
  string uuid = 1;
  string operationName = 2;
}
message ProcessOperationReply{
  string msg =1;
}